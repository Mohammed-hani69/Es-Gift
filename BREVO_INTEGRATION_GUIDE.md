# ๐ง ุฏููู ุงูุชูุงูู ูุน Brevo - ES-GIFT

## ๐ฏ ุงููุฏู

ุชู ุชุทููุฑ ุชูุงูู ุดุงูู ูุน ุฎุฏูุฉ **Brevo** (ุงููุนุฑููุฉ ุณุงุจูุงู ุจุงุณู SendinBlue) ูุฅุฑุณุงู ุฌููุน ุฃููุงุน ุงูุฅููููุงุช ูู ููุตุฉ ES-GIFTุ ุจุฏููุงู ุนู Flask-Mail ูุถูุงู ููุซูููุฉ ุฃุนูู ูููุฒุงุช ูุชูุฏูุฉ.

## โ ุงููุดุงูู ุงูุชู ุชู ุญููุง

1. **ูุดููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: โ ุชู ุฅุถุงูุฉ ุญููู ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
2. **ุงูุชูุงูู ูุน Brevo**: โ ุชู ุฑุจุท ุฌููุน ุฎุฏูุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
3. **ูุธุงู ุงูุชุญูู**: โ ูุนูู ุจููุงุกุฉ ูุน Brevo
4. **ุฅุฑุณุงู ุงูููุงุชูุฑ**: โ ูุชูุงูู ูุน Brevo
5. **ุฃููุงุฏ ุงูููุชุฌุงุช**: โ ูุชูุงูู ูุน Brevo

## ๐ ุงููููุงุช ุงูููุญุฏุซุฉ

### ุงููููุงุช ุงูุฌุฏูุฏุฉ:
- `brevo_integration.py` - ุงูุชูุงูู ุงูุดุงูู ูุน Brevo
- `fix_database.py` - ุฃุฏุงุฉ ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `test_brevo.py` - ุงุฎุชุจุงุฑ ุงูุชูุงูู
- `.env.brevo.example` - ูุซุงู ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ

### ุงููููุงุช ุงูููุญุฏุซุฉ:
- `brevo_config.py` - ุฅุนุฏุงุฏุงุช Brevo ูุญุฏุซุฉ
- `utils.py` - ุฏูุงู ุงูุจุฑูุฏ ูุญุฏุซุฉ ูุงุณุชุฎุฏุงู Brevo
- `email_verification_service.py` - ูุญุฏุซ ูุงุณุชุฎุฏุงู Brevo

## ๐ง ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1. ุงูุญุตูู ุนูู API Key ูู Brevo

```bash
1. ุณุฌู ุฏุฎูู ุฅูู https://app.brevo.com
2. ุงุฐูุจ ุฅูู Settings > API Keys
3. ุงููุฑ ุนูู "Generate a new API key"
4. ุงูุณุฎ ุงูููุชุงุญ (ูุจุฏุฃ ุจู xkeysib-)
```

### 2. ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช Brevo

ุงูุชุญ ููู `brevo_config.py` ูุญุฏุซ ุงูููู ุงูุชุงููุฉ:

```python
# ุถุน API Key ุงูุญูููู ููุง
API_KEY = 'xkeysib-your-real-api-key-here'

# ุถุน ุจุฑูุฏู ุงููุชุญูู ููู ูู Brevo
DEFAULT_SENDER = {
    'name': 'ES-GIFT',
    'email': 'your-verified-email@yourdomain.com'
}
```

### 3. ุงูุชุญูู ูู ุจุฑูุฏ ุงููุฑุณู

```bash
1. ูู Brevoุ ุงุฐูุจ ุฅูู Settings > Senders & IP
2. ุฃุถู ูุทุงูู ุฃู ุจุฑูุฏู ุงูุฅููุชุฑููู
3. ุงุชุจุน ุฎุทูุงุช ุงูุชุญูู
4. ุถุน ุงูุจุฑูุฏ ุงููุชุญูู ููู ูู ุงูุฅุนุฏุงุฏุงุช
```

### 4. ุงุฎุชุจุงุฑ ุงูุชูุงูู

```bash
# ุงุฎุชุจุงุฑ ุดุงูู ููุชูุงูู
python test_brevo.py

# ุงุฎุชุจุงุฑ ุณุฑูุน
python -c "from brevo_integration import test_brevo_integration; print(test_brevo_integration())"
```

## ๐ ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ุฅุฑุณุงู ุจุฑูุฏ ุนุงุฏู

```python
from brevo_integration import send_email_brevo

success = send_email_brevo(
    to_email="user@example.com",
    subject="ููุถูุน ุงูุฑุณุงูุฉ",
    body="<h1>ูุญุชูู HTML</h1>"
)
```

### ุฅุฑุณุงู ุจุฑูุฏ ุงูุชุญูู

```python
from brevo_integration import send_verification_email_brevo

success = send_verification_email_brevo(user)
```

### ุฅุฑุณุงู ูุงุชูุฑุฉ

```python
from brevo_integration import send_invoice_email_brevo

success, message = send_invoice_email_brevo(invoice, pdf_content)
```

### ุฅุฑุณุงู ุชุฃููุฏ ุทูุจ

```python
from brevo_integration import send_order_email_brevo

success, message = send_order_email_brevo(order)
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: API Key ุบูุฑ ุตุงูุญ

```
โ ูุดู ุงูุงุชุตุงู: API Key ุบูุฑ ุตุงูุญ ุฃู ููุชูู ุงูุตูุงุญูุฉ
```

**ุงูุญู:**
1. ุชุญูู ูู API Key ูู `brevo_config.py`
2. ุชุฃูุฏ ุฃู ุงูููุชุงุญ ูุจุฏุฃ ุจู `xkeysib-`
3. ุชุญูู ูู ุตุญุฉ ุงูููุชุงุญ ูู ููุญุฉ Brevo

### ุฎุทุฃ: ุจุฑูุฏ ุงููุฑุณู ุบูุฑ ูุชุญูู

```
โ ูุดู ุงูุฅุฑุณุงู: Sender email not verified
```

**ุงูุญู:**
1. ุงุฐูุจ ุฅูู Brevo > Settings > Senders & IP
2. ุชุญูู ูู ุจุฑูุฏ ุงููุฑุณู
3. ุญุฏุซ `DEFAULT_SENDER['email']` ูู ุงูุฅุนุฏุงุฏุงุช

### ุฎุทุฃ: ุชุฌุงูุฒ ุญุฏ ุงูุฅุฑุณุงู

```
โ ูุดู ุงูุฅุฑุณุงู: Daily sending limit exceeded
```

**ุงูุญู:**
1. ุฑุงุฌุน ุฎุทุฉ Brevo ุงูุญุงููุฉ
2. ุชุฑูู ุงูุฎุทุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ
3. ุงูุชุธุฑ ุญุชู ุฅุนุงุฏุฉ ุชุนููู ุงูุญุฏ ุงููููู

## ๐ ูุฑุงูุจุฉ ุงูุฅุญุตุงุฆูุงุช

### ูู ููุญุฉ Brevo:
- ุงุฐูุจ ุฅูู Statistics > Email
- ุฑุงูุจ ูุนุฏูุงุช ุงููุชุญ ูุงูููุฑ
- ุชุชุจุน ุญุงูุฉ ุงูุชุณููู

### ูู ุงูุชุทุจูู:
```python
# ูุญุต ุญุงูุฉ ุงูุงุชุตุงู
from brevo_integration import test_brevo_integration
success, message = test_brevo_integration()
print(f"ุญุงูุฉ Brevo: {message}")
```

## โ๏ธ ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

### ุชูุนูู ูุถุน ุงูุงุฎุชุจุงุฑ

ูู `brevo_config.py`:

```python
TEST_MODE = True
TEST_EMAIL = 'your-test-email@example.com'
```

ูู ูุถุน ุงูุงุฎุชุจุงุฑุ ุณูุชู ุฅุฑุณุงู ุฌููุน ุงูุฑุณุงุฆู ุฅูู ุงูุจุฑูุฏ ุงููุญุฏุฏ.

### ุฅูุดุงุก ููุงูุจ ูุฎุตุตุฉ

1. ูู Brevoุ ุงุฐูุจ ุฅูู Email > Templates
2. ุฃูุดุฆ ูุงูุจ ุฌุฏูุฏ
3. ุงุญุตู ุนูู ูุนุฑู ุงููุงูุจ
4. ุญุฏุซ `TEMPLATES` ูู `brevo_config.py`

### ุฅุนุฏุงุฏ ุงูููุงุฆู ุงูุจุฑูุฏูุฉ

1. ูู Brevoุ ุงุฐูุจ ุฅูู Contacts > Lists
2. ุฃูุดุฆ ููุงุฆู ููุนููุงุก ุงููุฎุชูููู
3. ุญุฏุซ `CONTACT_LISTS` ูู ุงูุฅุนุฏุงุฏุงุช

## ๐ก๏ธ ุงูุฃูุงู

### ุญูุงูุฉ API Key:
- ูุง ุชุถุน API Key ูู ุงูููุฏ ูุจุงุดุฑุฉ
- ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- ุฃูุดุฆ ููู `.env` ูุน:
  ```
  BREVO_API_KEY=your-real-key-here
  ```

### ุชุดููุฑ ุงูุจูุงูุงุช:
```python
ENCRYPT_SENSITIVE_DATA = True  # ูู brevo_config.py
```

## ๐ ุงูููุงููุณ ูุงูุชุญูููุงุช

### ุชุชุจุน ุงูุฃุฏุงุก:
- ูุนุฏู ุงูุชุณููู ุงููุงุฌุญ
- ูุนุฏู ูุชุญ ุงูุฑุณุงุฆู
- ูุนุฏู ุงูููุฑ ุนูู ุงูุฑูุงุจุท
- ูุนุฏู ุฅูุบุงุก ุงูุงุดุชุฑุงู

### ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ:
```python
from brevo_email_service import brevo_service

# ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงูุญุณุงุจ
success, info = brevo_service.get_account_info()
if success:
    print(f"ุฎุทุฉ ุงูุญุณุงุจ: {info.get('plan', {}).get('type')}")
    print(f"ุงูุฑุณุงุฆู ุงููุฑุณูุฉ: {info.get('statistics', {}).get('sentEmails')}")
```

## ๐ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ

### ูุณุฎ ุงุญุชูุงุทู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
python fix_database.py  # ููุดุฆ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุชููุงุฆูุงู
```

### ุงุณุชุนุงุฏุฉ ุงูุฅุนุฏุงุฏุงุช:
1. ุงุญุชูุธ ุจูุณุฎุฉ ูู `brevo_config.py`
2. ุงุญุชูุธ ุจูุณุฎุฉ ูู ููู `.env`
3. ูุซู ูุนุฑูุงุช ุงูููุงูุจ ูุงูููุงุฆู

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ูุตุงุฏุฑ ูููุฏุฉ:
- [ุชูุซูู Brevo API](https://developers.brevo.com/)
- [ูุฑูุฒ ูุณุงุนุฏุฉ Brevo](https://help.brevo.com/)
- [ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู](https://github.com/getbrevo/brevo-python)

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:
1. **API Key ููุชูู ุงูุตูุงุญูุฉ** - ุฃูุดุฆ ููุชุงุญ ุฌุฏูุฏ
2. **ุญุฏ ุงูุฅุฑุณุงู** - ุฑุงุฌุน ุฎุทุฉ Brevo
3. **ุจุฑูุฏ ุบูุฑ ูุชุญูู** - ุงุชุจุน ุฎุทูุงุช ุงูุชุญูู ูู Brevo

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ุชูุงูู ุดุงูู ููุชูุฏู ูุน Brevo ูุดูู:

โ **ุฌููุน ุฃููุงุน ุงูุฅููููุงุช**: ุงูุชุญููุ ุงูุทูุจุงุชุ ุงูููุงุชูุฑุ ุงูุฃููุงุฏ  
โ **ูุธุงู ุงุญุชูุงุทู**: ูุนูุฏ ูู Flask-Mail ุนูุฏ ุงูุญุงุฌุฉ  
โ **ูุฑุงูุจุฉ ูุชูุฏูุฉ**: ุชุชุจุน ูุฅุญุตุงุฆูุงุช ุดุงููุฉ  
โ **ุฃูุงู ุนุงูู**: ุชุดููุฑ ูุญูุงูุฉ ุงูุจูุงูุงุช  
โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: API ุจุณูุท ููุงุถุญ  

**ุงูุขู ูุธุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ES-GIFT ุฌุงูุฒ ููุนูู ุจููุงุกุฉ ุนุงููุฉ! ๐**
